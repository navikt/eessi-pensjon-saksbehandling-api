server:
  port: 8080
  tomcat:
    remote-ip-header: 'x-forwarded-for'
    protocol-header: 'x-forwarded-proto'

management:
  endpoints:
    metrics.enabled: true
    web.exposure.include: '*'
    export.prometheus.enabled: true
    prometheus.enabled: true
  metrics.web.server.auto-time-requests: false

eessifagmodulservice.url: 'http://eessi-fagmodul/'

eessi.pensjon.frontend.api:
  varsel.tittel: 'Ny elektronisk l√∏sning fra NAV'
  s3:
    whitelist.key.ending: 'whitelisted'
    bucket.name: 'eessipensjon'
    personidentifier.separator: '___'

#eessipen-eux-rina:
#  url: 'http://eux-app/cpi'

no.nav:
  security.oidc:
    issuer.isso:
      proxyurl:
      cookiename: 'eessipensjon-idtoken'
      discoveryurl: '${OPENIDCONNECT_URL}/oauth2/.well-known/openid-configuration'
      accepted_audience: 'eessi-pensjon-frontend-api-fss-${FASIT_ENVIRONMENT_NAME}'

isso.agentname: '${APP_NAME}-${FASIT_ENVIRONMENT_NAME}'

http.proxy.parametername: 'dontuse.proxy'
redirectscheme: 'https'

kafka:
  sedSendt:
    topic: eessi-basis-sedSendt-v1
    groupid: eessi-pensjon-group
  sedMottatt:
    topic: eessi-basis-sedMottatt-v1
    groupid: eessi-pensjon-group

#Spring
spring:
  jmx.enabled: false
  jackson:
    serialization:
      write_dates_as_timestamps: false
  kafka:
    listener:
      ack-mode: manual
    consumer:
      enable-auto-commit: false
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS_URL}
    properties:
      security.protocol: SASL_SSL
      value.subject.name.strategy: io.confluent.kafka.serializers.subject.TopicRecordNameStrategy
      key.deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value.deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      sasl:
        mechanism: PLAIN
        jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username="${srvusername}" password="${srvpassword}";


cors:
  allowed: 'eessi-pensjon-frontend-ui-fss-${FASIT_ENVIRONMENT_NAME}'
