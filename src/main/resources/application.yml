server:
  port: 8080
  tomcat:
    remote-ip-header: 'x-forwarded-for'
    protocol-header: 'x-forwarded-proto'

management:
  endpoints:
    metrics.enabled: true
    web.exposure.include: '*'
    export.prometheus.enabled: true
    prometheus.enabled: true
  metrics.web.server.auto-time-requests: true

eessi.pensjon.frontend.api:
  varsel.tittel: 'Ny elektronisk l√∏sning fra NAV'
  s3:
    whitelist.key.ending: 'whitelisted'
    bucket.name: 'eessipensjon'
    personidentifier.separator: '___'

no.nav:
  security:
#    oidc:
#      issuer.isso:
#        proxyurl:
#        cookiename: 'eessipensjon-idtoken'
#        discoveryurl: '${OPENIDCONNECT_URL}/oauth2/.well-known/openid-configuration'
#        accepted_audience: 'eessi-pensjon-frontend-api-fss-${ENV}'
    jwt:
      issuer.isso:
        cookiename: 'eessipensjon-idtoken'
        discoveryurl: '${OPENIDCONNECT_URL}/oauth2/.well-known/openid-configuration'
        accepted_audience: 'eessi-pensjon-frontend-api-fss-${ENV}'


isso.agentname: '${NAIS_APP_NAME}-${ENV}'

http.proxy.parametername: 'dontuse.proxy'
redirectscheme: 'https'

kafka:
  sedSendt:
    topic: ${KAFKA_SEDSENDT_TOPIC}
    groupid: eessi-pensjon-saksbehandling-group
  sedMottatt:
    topic: ${KAFKA_SEDMOTTATT_TOPIC}
    groupid: eessi-pensjon-saksbehandling-group

#Spring
spring:
  jmx.enabled: false
  jackson:
    serialization:
      write_dates_as_timestamps: false
  kafka:
    listener:
      ack-mode: record
    consumer:
      enable-auto-commit: false
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS_URL}
    properties:
      security.protocol: SASL_SSL
      key.deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value.deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      sasl:
        mechanism: PLAIN
        jaas.config: org.apache.kafka.common.security.plain.PlainLoginModule required username="${srvusername}" password="${srvpassword}";

securityTokenService:
  discoveryUrl: ${SECURITY_TOKEN_SERVICE_OPENID_CONFIGURATION_URL}

cors:
  allowed: ${PENSJON_UTLAND_WS_ALLOWED_ORIGINS_URL}

ldap.provider:
  serviceuser-dn-pattern: "CN={0},OU=ApplAccounts,OU=ServiceAccounts"
  user-search-filter: "(&(objectClass=user)(|(sAMAccountName={0})(userPrincipalName={0})))"
  user-search-base=: "OU=NAV,OU=BusinessUnits"
  group-search-base=OU: "NAV,OU=BusinessUnits"
#PENSJON_UTLAND_WS_ALLOWED_ORIGINS_URL: "http://someorigin"

submitTopic: 'privat-eessipensjon-selvbetjeningsinfoMottatt-v1'
S3_REGION: us-east-1
